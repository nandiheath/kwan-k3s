---
k3s_cluster:
  children:
    server:
      hosts:
        10.43.2.1: {}
        10.43.2.2: {}
        10.43.2.3: {}

  # Required Vars
  vars:
    ansible_port: 22
    ansible_user: nandi
    k3s_version: v1.33.2+k3s1
    api_endpoint: "{{ hostvars[groups['server'][0]]['ansible_host'] | default(groups['server'][0]) }}"
    # Tune as your needs
    extra_server_args: "--cluster-cidr 10.45.0.0/16 --service-cidr 10.50.0.0/16 --cluster-dns 10.50.0.100 --disable traefik --disable-network-policy --disable servicelb --disable-kube-proxy --flannel-backend=none"
    extra_agent_args: ""
